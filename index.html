<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Papagallo Whatsapp</title>
    <meta name="description" content="Papagallo Whatsapp">
    <meta name="author" content="Papagallo">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta property='og:title' content='Papagallo'/>
    <meta property='og:image' content='/img/logo_thumbnail.png'/>
    <meta property='og:url' content='https://doncaton.github.io/whatsapp_msg/'/>
    <meta property='og:image:width' content='1200' />
    <meta property='og:image:height' content='627' />    

    <link rel="icon" type="image/png" href="./img/favicon.ico">

    <style>
      input {text-align: center;}
    </style>

  </head>
<body onload="miEstilo()">
  <div align="center">
    <div><h1 id="titulo">Número Móvil:</h1></div>
    <div><input type="text" value="569xxxxxxxx" onfocus="this.value=''" id="numMovil" name="numMovil" maxlength="11"></div>
    <div></br></div>
    <div><button type="button" id="miBoton" onclick="miWhatsapp()">Enviar Whatsapp!</button></div>
    <div id="mensaje"></div>
  </div>

  <script>
    function miEstilo() {

      var miTitulo = document.getElementById('titulo');
      miTitulo.style.fontSize = '5vw';
      miTitulo.style.fontfamily = 'Helvetica Neue';
      miTitulo.style.fontweight = 'bold';
      miTitulo.style.lineHeight = '1';
      
      var miMovil = document.getElementById('numMovil');
      numMovil.style.height = '5vw';
      numMovil.style.width= '34vw';
      numMovil.style.fontSize = '5vw';
      numMovil.style.backgroundColor = 'darkgray';
      numMovil.style.color = 'white';
      numMovil.style.letterSpacing = '-1px';

      var miBoton = document.getElementById('miBoton');
      miBoton.style.height = '6vw';
      miBoton.style.width= '35vw';
      miBoton.style.fontSize = '4vw';
      miBoton.style.backgroundColor = '#25D366';
      miBoton.style.color = 'white';
      miBoton.style.borderRadius = '10px';

      var miMensaje = document.getElementById('mensaje');
      miMensaje.style.fontSize = '2vw';

    }   

    function isNumeric(value) {
        return /^\d+$/.test(value);
    }

    function miWhatsapp() {

      let text;
      let movil = document.getElementById("numMovil").value;
      if (isNumeric(movil)) {
        text = movil;
        location.assign("https://api.whatsapp.com/send?phone=" + movil)
      } else {
        text = "Móvil inválido: " + movil;
      }
        document.getElementById("mensaje").innerHTML = "Ultimo: " + text;
    }
  </script>

</body>
</html>